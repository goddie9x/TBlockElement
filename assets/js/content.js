let lastElement;const IDBG=!1;let isSelecting=!1,isEnableExtension=!0,isQuickSelect=!1,tempElementForMenuContextHandle,getListUrlDisableExtensionInfoPromise=getFromChromeStorage("disableExtensionForUrl"),pickerPanel,classNameUsable=["prevent-click","t-spec-block-prevent-scroll","t-spec-block-hover-blur"],originUrl=window.location.host;function saveToChromeStorage({key:e,value:t}){return new Promise((n,s)=>chrome.storage.sync.set({[e]:t},()=>chrome.runtime.lastError?s(chrome.runtime.lastError.message):n(()=>{console.log(`${e} saved`)})))}function replaceStringWithMultipleValues(e,t,n){let s=e;return Array.isArray(n)?t.forEach((e,t)=>{s=s.replace(e,n[t])}):t.forEach(e=>{s=s.replace(e,n)}),s}function getFromChromeStorage(e){return new Promise((t,n)=>chrome.storage.sync.get(e,e=>chrome.runtime.lastError?n(chrome.runtime.lastError.message):t(e)))}function setAttributes(e,t){try{for(var n in t){let s=t[n];"object"==typeof s?setAttributes(e,s):e.setAttribute(n,s)}}catch(i){}}function addMultipleClass(e,t){try{t.forEach(t=>e.classList.add(t))}catch(n){}}function removeMultipleClass(e,t){try{t.forEach(t=>e.classList.remove(t))}catch(n){}}function showAlertMessage({title:e,message:t,type:n="info",buttons:s=[],onClose:i,timeOut:l=3e3}){let r=document.createElement("div");addMultipleClass(r,["alert","alert-"+n,"t-block-fade","show","t-spec-block-alert"]),r.innerHTML=`
    <h4>${e}</h4>
    <p>${t}</p>
`,s&&s.forEach(e=>{let t=document.createElement("button");t.innerHTML=e.text,t.addEventListener("click",e.onClick),r.appendChild(t)}),document.body.appendChild(r),setTimeout(()=>{r.remove(),i&&i()},l)}function toggleClassWithCondition(e,t,n){n?t.forEach(t=>{e.classList.add(t)}):t.forEach(t=>{e.classList.remove(t)})}function unselectLastElement(){isSelecting=!1,sendMessage({name:"unselect-last-element-content"}),lastElement&&(lastElement.classList.remove("t-spec-block-hover-blur"),lastElement.removeEventListener("click",handleClickElement))}function createRulesRemove(e,t,n,s){if(!s){let i=new Date;s=i.getHours()+":"+i.getMinutes()+" "+i.getDay()+"/"+i.getMonth()+"/"+i.getFullYear()}let l=t+"|"+s;return getRulesRemove(n).then(t=>{if(t){let s=t[e];s?-1==s.indexOf(l)&&(s+=","+l):s=l,t[e]=s}else(t={})[e]=l;return saveToChromeStorage({key:n,value:t})})}function getRulesRemove(e){let t;return(t="rulesRemoveElement"==e?getFromChromeStorage("rulesRemoveElement"):getFromChromeStorage("rulesRemoveSelector")).then(t=>t[e])}getListUrlDisableExtensionInfoPromise.then(({disableExtensionForUrl:e})=>{isEnableExtension=!e||!e.includes(originUrl)});let handledElements={elementRemovedSelector:[],elementRemoved:[]};function startSelect(e){let t=e.target;try{t.className&&t.className.includes("t-spec-block")||(unselectLastElement(),t.classList.add("t-spec-block-hover-blur"),isSelecting=!0,t.addEventListener("click",handleClickElement),lastElement=t)}catch(n){showAlertMessage({title:"error",type:"danger",message:"Somthing went wrong, please try again later."})}}function handleClickElement(e){e.preventDefault(),e.stopPropagation();startBlockSelectedElement(e.target)}function startBlockSelectedElement(e){document.body.classList.add("prevent-click"),e.removeEventListener("click",handleClickElement);let t=getAllRelativeElementOfCurrentElement(e);pickerPanel?pickerPanel.setElements(t):pickerPanel=new PickerPanel(t),document.removeEventListener("mouseover",startSelect),isQuickSelect?pickerPanel.quickSelect():pickerPanel.show()}function getAllRelativeElementOfCurrentElement(e){if(!e)return[];let t=[e];for(;e.parentElement&&"HTML"!==e.parentElement.tagName;)(""!=(e=e.parentElement).id||""!=e.className||"BODY"==e.tagName||"HTML"==e.tagName)&&t.push(e);return t}function startSelectElement(){unselectLastElement(),document.removeEventListener("mouseover",startSelect),document.body.classList.remove("prevent-click"),document.addEventListener("mouseover",startSelect)}function stopSelectElement(){unselectLastElement(),document.removeEventListener("mouseover",startSelect)}chrome.runtime.onMessage.addListener((e,t,n)=>{switch(e.name){case"quick-select":isQuickSelect=!0,startSelectElement();break;case"start-select":isQuickSelect=!1,startSelectElement();break;case"disable-blocking":isEnableExtension=!1,pickerPanel&&pickerPanel.quit(),window.removeEventListener("load",startBlock),restoreHandledElements();break;case"enable-blocking":isEnableExtension=!0,startBlock();break;case"unselect-last-element":isSelecting&&unselectLastElement();break;case"check-content-loaded":sendMessage({name:"loaded-content"});break;case"unblock-copy":case"unblock-scroll":case"restart-page":window.location.reload();break;case"updateRules":startBlock();case"start-block-by-menu-context":tempElementForMenuContextHandle?(pickerPanel&&pickerPanel.quit(),startBlockSelectedElement(tempElementForMenuContextHandle)):showAlertMessage({title:"error",type:"danger",message:"Please wait for the page to load completely."});break;case"move-to-rate-page":window.open("https://chrome.google.com/webstore/detail/tblock/afpdbmmaaihamebhmplpjpgkilbdebkn/reviews","_blank").focus()}});class PickerPanel{constructor(e){this.relateSelectorElements=e,this.isDragging=!1,this.targetElementIndex=0,this.isPreview=!1,this.maxElementTargetParentLevel=e.length-1,this.queryLevel=0,this.container=document.createElement("div"),this.header=document.createElement("textarea"),this.rangers=document.createElement("div"),this.buttonList=document.createElement("div"),this.listItemRelativeWrapper=document.createElement("div"),this.listItemRelativeTitle=document.createElement("div"),this.listItemRelative=document.createElement("div"),this.selectParentElementRanger=document.createElement("input"),this.queryLevelRanger=document.createElement("input"),this.previewBtn=document.createElement("button"),this.createRemoveSelectorBtn=document.createElement("button"),this.createRemoveElementBtn=document.createElement("button"),this.pickBtn=document.createElement("button"),this.quitBtn=document.createElement("button"),this.optionsWrapper=document.createElement("div"),this.minimizeBtn=document.createElement("div"),this.miniMenu=document.createElement("div"),this.expandBtn=document.createElement("div"),this.dragBtn=document.createElement("div"),this.container.setAttribute("class","t-spec-block-wrapper"),this.header.setAttribute("class","t-spec-block-header"),this.rangers.setAttribute("class","t-spec-block-rangers"),this.buttonList.setAttribute("class","t-spec-block-button-list"),this.listItemRelativeWrapper.setAttribute("class","t-spec-block-list-item-relative-wrapper"),this.optionsWrapper.setAttribute("class","t-spec-block-options-wrapper"),this.optionsWrapper.setAttribute("draggable","true"),this.queryLevelRanger.value=0,this.container.appendChild(this.minimizeBtn),this.container.appendChild(this.header),this.container.appendChild(this.rangers),this.container.appendChild(this.buttonList),this.container.appendChild(this.listItemRelativeWrapper),document.body.appendChild(this.container),document.body.addEventListener("dragover",enableDragOnElement),this.init()}setElements(e){this.relateSelectorElements=e,this.targetElementIndex=0,this.queryLevel=0,this.queryLevelRanger.value=0,this.maxElementTargetParentLevel=this.relateSelectorElements.length-1,this.updateSelectValue(),this.renderListItemRelative()}init(){this.initHeader(),this.initRangers(),this.initButtonList(),this.initListItemRelativeWrapper(),this.initOptionsWrapper(),this.initMiniMenu()}initHeader(){this.header.addEventListener("input",e=>{try{let t=e.target.value,n=document.querySelector(t);if(n){if(this.relateSelectorElements.includes(n)){let s=this.relateSelectorElements.indexOf(n);this.queryLevel=1,this.queryLevelRanger.value=1,this.setSelectIndex(s)}else{this.doNotUpdateHeaderInputValue=!0;let i=getAllRelativeElementOfCurrentElement(n);this.setElements(i)}}}catch(l){showAlertMessage({title:"Error",type:"danger",message:"Invalid selector"})}}),this.updateSelectValue()}initRangers(){this.selectParentElementRanger.setAttribute("class","t-spec-block-range form-range mx-1"),this.selectParentElementRanger.setAttribute("data-bs-toggle","tooltip"),this.selectParentElementRanger.setAttribute("data-bs-tooltip","Select element"),this.queryLevelRanger.setAttribute("class","t-spec-block-range form-range mx-1"),this.queryLevelRanger.setAttribute("data-bs-toggle","tooltip"),this.queryLevelRanger.setAttribute("data-bs-tooltip","Query level"),this.selectParentElementRanger.type="range",this.queryLevelRanger.type="range",this.selectParentElementRanger.min=0,this.selectParentElementRanger.max=this.maxElementTargetParentLevel,this.queryLevelRanger.min=1,this.queryLevelRanger.max=this.queryLevel,this.selectParentElementRanger.value=this.targetElementIndex,this.queryLevelRanger.value=this.queryLevel,this.selectParentElementRanger.addEventListener("change",e=>{let t=e.target.value;this.maxElementTargetParentLevel=this.relateSelectorElements.length-t,this.queryLevel=1,this.selectType=1,this.setSelectIndex(t)}),this.queryLevelRanger.addEventListener("change",e=>{this.queryLevel=e.target.value,this.isChangeQueryLevel=!0,this.updateSelectValue()}),this.rangers.appendChild(this.selectParentElementRanger),this.rangers.appendChild(this.queryLevelRanger)}initButtonList(){this.previewBtn.setAttribute("class","btn btn-outline-secondary t-spec-block-btn"),this.pickBtn.setAttribute("class","btn btn-outline-secondary t-spec-block-btn"),this.quitBtn.setAttribute("class","btn btn-outline-secondary t-spec-block-btn"),this.previewBtn.innerText="Preview",this.pickBtn.innerText="Pick",this.pickBtn.setAttribute("data-bs-toggle","tooltip"),this.pickBtn.setAttribute("data-bs-tooltip","Re pick element"),this.quitBtn.innerText="Quit",this.initEventHandlerForButtons()}initEventHandlerForButtons(){this.previewBtn.addEventListener("click",()=>{this.isPreview=!this.isPreview,this.preview()}),this.pickBtn.addEventListener("click",()=>{this.pick()}),this.quitBtn.addEventListener("click",()=>{this.quit()}),this.buttonList.appendChild(this.previewBtn),this.buttonList.appendChild(this.pickBtn),this.buttonList.appendChild(this.quitBtn)}initListItemRelativeWrapper(){this.listItemRelativeTitle.classList.add("t-spec-block-list-item-relative-title"),this.listItemRelativeTitle.innerText="Relative filter",this.listItemRelativeWrapper.appendChild(this.listItemRelativeTitle),this.listItemRelativeWrapper.appendChild(this.listItemRelative),this.renderListItemRelative()}initOptionsWrapper(){this.createRemoveSelectorBtn.setAttribute("class","t-spec-block-create-remove-selector-btn col-5 btn btn-outline-secondary"),this.createRemoveElementBtn.setAttribute("class","t-spec-block-create-remove-element-btn col-5 btn btn-outline-secondary"),this.createRemoveSelectorBtn.innerText="Create remove Selector",this.createRemoveSelectorBtn.setAttribute("data-bs-toggle","tooltip"),this.createRemoveSelectorBtn.setAttribute("data-bs-tooltip","Create rule just remove selector"),this.createRemoveElementBtn.innerText="Create remove element",this.createRemoveElementBtn.setAttribute("data-bs-toggle","tooltip"),this.createRemoveElementBtn.setAttribute("data-bs-tooltip","Create rule remove element"),this.optionsWrapper.appendChild(this.createRemoveSelectorBtn),this.optionsWrapper.appendChild(this.createRemoveElementBtn),this.initEventHandlerForOptionsWrapper()}initEventHandlerForOptionsWrapper(){this.optionsWrapper.addEventListener("click",e=>{e.preventDefault()}),this.optionsWrapper.addEventListener("drag",this.optionsWrapperDrag),this.optionsWrapper.addEventListener("dragend",e=>{document.body.classList.add("prevent-click")}),this.optionsWrapper.addEventListener("click",e=>{e.preventDefault()}),this.createRemoveSelectorBtn.addEventListener("click",()=>{this.createRemoveSelector()}),this.createRemoveElementBtn.addEventListener("click",()=>{this.createRemoveElement()})}initMiniMenu(){this.miniMenu.setAttribute("class","t-spec-block-mini-menu d-none"),this.expandBtn.setAttribute("class","t-spec-block-mini-menu-expand-btn btn"),this.dragBtn.setAttribute("class","t-spec-block-mini-menu-drag-btn btn"),this.minimizeBtn.setAttribute("class","t-spec-block-mini-menu-minimize-btn btn"),this.expandBtn.innerHTML='<i class="fa-solid fa-arrows-maximize"></i>',this.expandBtn.addEventListener("click",()=>{this.show()}),this.dragBtn.innerHTML='<i class="fa-solid fa-grip"></i>',this.dragBtn.setAttribute("draggable","true"),this.dragBtn.addEventListener("drag",e=>{document.body.classList.remove("prevent-click"),this.move(e)}),this.dragBtn.addEventListener("dragend",e=>{document.body.classList.add("prevent-click")}),this.minimizeBtn.innerHTML='<i class="fa-solid fa-minus"></i>',this.minimizeBtn.addEventListener("click",()=>{this.hide()}),this.miniMenu.appendChild(this.expandBtn),this.miniMenu.appendChild(this.dragBtn),document.body.appendChild(this.miniMenu)}renderListItemRelative(){this.listItemRelative.innerHTML="",this.relateSelectorElements.forEach((e,t)=>{let n=document.createElement("div");n.setAttribute("class","t-spec-block-item-relative"),n.innerText=this.getSelectorByQueryLevel(e,t==this.targetElementIndex),n.addEventListener("click",()=>{this.selectParentElementRanger.value=t,this.selectParentElementRanger.dispatchEvent(new Event("change"))}),this.listItemRelative.appendChild(n)})}move(e){let t=window.innerWidth-e.clientX,n=window.innerHeight-e.clientY;t>window.innerWidth-100&&(t=window.innerWidth-100),n>window.innerHeight-100&&(n=window.innerHeight-100),t<0&&(t=0),n<0&&(n=0),n<3*window.innerHeight/10?this.minimizeBtn.style.top="5px":this.minimizeBtn.style.top="95%";let s=t-this.container.clientWidth,i=n-this.container.clientHeight;this.container.style.right=s+"px",this.container.style.bottom=i+"px",this.miniMenu.style.right=s+"px",this.miniMenu.style.bottom=i+"px"}optionsWrapperDrag(e){let t=e.target,n=e.clientX-t.offsetWidth/2,s=e.clientY-t.offsetHeight/2;n<0&&(n=0),s<0&&(s=0),n>window.innerWidth-100&&(n=window.innerWidth-100),s>window.innerHeight-100&&(s=window.innerHeight-100),t.style.left=n+"px",t.style.top=s+"px"}getSelectorByQueryLevel(e,t=!1){let n=e.classList,s="";if(n.length>0)for(let i=0;i<n.length;i++)classNameUsable.includes(n[i])||(s+="."+n[i]);if(e.id&&(s+=`#${e.id}`),""===s)do{let l=e.tagName.toLowerCase();if("body"!=l&&"html"!=l){let r=[...e.parentElement.children].indexOf(e);r>=0&&(l+=`:nth-child(${r+1})`)}if(s=l+" "+s,!(e=e.parentElement))break;if(""!=replaceStringWithMultipleValues(e.className,classNameUsable,"")||""!=e.id)break}while(t);return s}getArrayOfParentsFullSelector(){let e=[],t=this.relateSelectorElements.length-1;for(let n=this.targetElementIndex;n<t;n++)e.push(this.getSelectorByQueryLevel(this.relateSelectorElements[n],n==this.targetElementIndex));return e}updateSelectValue(){let e=this.relateSelectorElements.length-this.targetElementIndex-1;this.queryLevelRanger.max=this.maxElementTargetParentLevel,this.isChangeQueryLevel?this.isChangeQueryLevel=!1:this.queryLevel=1;let t=this.relateSelectorElements[this.targetElementIndex],n=this.getArrayOfParentsFullSelector().reverse(),s="",i=document.body;if(e>0){let l=e-this.queryLevel-1;l<0&&(l=0,this.queryLevel=e);for(let r=l;r<e;r++)s+=n[r]+" "}else s=this.getSelectorByQueryLevel(t);t.removeEventListener("click",handleClickElement),i.classList.add("t-spec-block-prevent-scroll"),lastElement&&(lastElement.classList.remove("t-spec-block-hover-blur"),lastElement.parentElement&&lastElement.parentElement.classList.remove("t-spec-block-p-relative")),this.doNotUpdateHeaderInputValue||(this.header.value=s,this.doNotUpdateHeaderInputValue=!1),this.optionsWrapper.remove(),t.classList.add("t-spec-block-hover-blur"),i.appendChild(this.optionsWrapper),lastElement=t}setSelectIndex(e){this.targetElementIndex=e,this.updateSelectValue()}getHeaderValue(){return this.header.value.replace(".t-spec-block-hover-blur","").trim()}preview(){this.isPreview?(lastElement.classList.add("d-none"),this.previewBtn.classList.add("active")):(lastElement.classList.remove("d-none"),this.previewBtn.classList.remove("active"))}show(){this.optionsWrapper.isConnected||document.body.appendChild(this.optionsWrapper),this.container.classList.remove("d-none"),this.miniMenu.classList.add("d-none")}hide(){document.body.classList.remove("t-spec-block-prevent-scroll"),this.container.classList.add("d-none"),this.miniMenu.classList.remove("d-none")}quickSelect(){this.hide(),this.optionsWrapper.remove(),this.miniMenu.classList.add("d-none"),getFromChromeStorage("generalSettings").then(({generalSettings:e})=>{e||(e={});let{isEnableDialog:t,quickRemoveType:n,selectorOptions:s}=e;!t&&isQuickSelect?(this.quit(),"rulesRemoveSelector"==n?this.createRemoveSelector():this.createRemoveElement(),isQuickSelect=!1):(this.optionsWrapper.classList.remove("d-none"),this.miniMenu.classList.remove("d-none"))})}pick(){this.hide(),this.optionsWrapper.remove(),startSelectElement(),this.miniMenu.classList.remove("d-none")}quit(){this.hide(),this.optionsWrapper.remove(),this.miniMenu.classList.add("d-none"),this.relateSelectorElements.forEach(e=>{e.removeEventListener("click",handleClickElement)}),document.body.removeEventListener("dragover",enableDragOnElement),document.body.classList.remove("prevent-click"),stopSelectElement()}createRemoveSelector(){createRulesRemove(originUrl,this.getHeaderValue(),"rulesRemoveSelector").then(()=>{this.hide(),this.quit(),sendMessage({name:"updateRules",selectorType:"rulesRemoveSelector"}),startBlock()})}createRemoveElement(){createRulesRemove(originUrl,this.getHeaderValue(),"rulesRemoveElement").then(()=>{this.hide(),this.quit(),sendMessage({name:"updateRules",selectorType:"rulesRemoveElement"}),startBlock()})}}function startBlock(){if(isEnableExtension){let e=window.location.host;getRulesRemove("rulesRemoveSelector").then(t=>{t&&t[e]&&handleRemoveDomOption(t[e].split(","),removeSelectorForElement)}),getRulesRemove("rulesRemoveElement").then(t=>{t&&t[e]&&handleRemoveDomOption(t[e].split(","),removeElement)}),getFromChromeStorage("generalSettings").then(({generalSettings:e})=>{e||(e={}),e.isEnableAutoUnblockCopy&&enableCopy(e.unblockCopyLevel),e.isEnableAutoUnblockScroll&&enableScroll(e.unblockScrollLevel)}),observeAdChanges()}}function removeElement(e){let t=e.split("|")[0];try{document.querySelectorAll(t).forEach(e=>{let t=e.parentElement,n=[...t.children].indexOf(e);handledElements.elementRemoved.push({element:e,parent:t,curIndexElOfParent:n}),e.remove()})}catch(n){}}function removeSelectorForElement(e){let t=e.split("|")[0];try{document.querySelectorAll(t).forEach(e=>{let n=e.classList,s=e.id,i=e.className;handledElements.elementRemovedSelector.find(e=>e.id===s&&e.className===i)||handledElements.elementRemovedSelector.push({element:e,id:s,className:i}),n.length>0&&n.forEach(n=>{t.includes(n)&&e.classList.remove(n)}),s&&t.includes(s)&&(e.id="")})}catch(n){}}function handleRemoveDomOption(e,t){e.forEach(e=>{t(e);let n=new MutationObserver(n=>{isEnableExtension&&n.forEach(n=>{"childList"===n.type&&t(e)})});n.observe(document.body,{childList:!0,subtree:!0})})}function enableDragOnElement(e){e.preventDefault()}function restoreHandledElements(){handledElements.elementRemoved.forEach(({element:e,parent:t,curIndexElOfParent:n})=>{t.insertBefore(e,t.children[n])}),handledElements.elementRemovedSelector.forEach(({element:e,id:t,className:n})=>{e.id=t,e.className=n})}function enableScroll(e){let t=0,n=setInterval(()=>{if(t++,isEnableExtension&&t<7)try{if(document.body.style.overflow="auto",1==e)return;window.addEventListener("scroll",()=>{})}catch(s){}else clearInterval(n)},1e3)}function restoreDefaultCopyEvent(){let e="";window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),navigator.clipboard.writeText(e)}function restoreDefaultSelectText(e){return!0}function enableCopy(e){let t=0,n=setInterval(()=>{t++,enableContextMenu(),isEnableExtension&&t<7?document.querySelectorAll("*").forEach(t=>{if(t.oncontextmenu=null,t.addEventListener("click",restoreDefaultSelectText),enableRightClick(t),1!=e&&(t.addEventListener("mousedown",restoreDefaultSelectText),2!=e))t.addEventListener("selectstart",restoreDefaultSelectText),3!=e&&(t.oncopy=restoreDefaultSelectText,4!=e&&setAttributes(t,{contentEditable:!0,style:{webkitUserSelect:"text",MozUserSelect:"text",msUserSelect:"text",userSelect:"text"}}))}):clearInterval(n)},2e3)}function sendMessage(e,t){chrome.runtime.sendMessage({...e},function(e){chrome.runtime.lastError&&console.log(chrome.runtime.lastError),t&&t(e)})}function enableContextMenu(e=!0){document.ondragstart=null,document.onselectstart=null,document.onclick=null,document.onmousedown=null,document.onmouseup=null,document.body.oncontextmenu=null,enableRightClickLight(document),restoreCtrl()}function enableRightClickLight(e){e||(e=document),e.addEventListener("contextmenu",bringBackDefault,!0)}function enableRightClick(e){e||(e=document),e.addEventListener("contextmenu",bringBackDefault,!0),e.addEventListener("dragstart",bringBackDefault,!0),e.addEventListener("selectstart",bringBackDefault,!0),e.addEventListener("click",bringBackDefault,!0),e.addEventListener("mousedown",bringBackDefault,!0),e.addEventListener("mouseup",bringBackDefault,!0)}function restoreCtrl(){document.addEventListener("keydown",bringBackDefault,!0)}function bringBackDefault(e){e.returnValue=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.cancelBubble&&e.cancelBubble()}function isSponsored(e){let t=e.querySelectorAll("b");if(t.length<10)return!1;let n="";return t.forEach(e=>{"none"!==window.getComputedStyle(e).display&&(n+=e.innerText.trim())}),console.log(n),n.includes("Sponsored")||n.includes("Đượct\xe0itrợ")}function hideFBSponsoredPosts(e=document){if(!location.hostname.includes("facebook.com"))return;let t=e.querySelectorAll("b.xt0psk2");t.forEach(e=>{isSponsored(e)&&e.closest(".x9f619.x1n2onr6.x1ja2u2z")?.remove()})}function removeYoutubeAds(){if(!location.hostname.includes("youtube.com"))return;let e=document.querySelector(".html5-video-player");if(!e)return;let t=document.querySelector(".ytp-ad-skip-button.ytp-button");t&&null!==t.offsetParent&&(t.click(),console.log("Ad skipped"));let n=document.querySelector("video");e.classList.contains("ad-showing")&&n&&(n.muted=!0,n.duration<30&&(n.currentTime=n.duration)),[".ytp-ad-overlay-container",".ytp-ad-image-overlay",".ytp-ad-player-overlay",".ytp-ad-progress-list",".ytp-ad-preview-container",".ytp-ad-text",".ytp-ad-skip-button-container"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.style.display="none"})}),n.muted=!1}function observeAdChanges(){if(isEnableExtension){let e=new MutationObserver(()=>{removeYoutubeAds(),hideFBSponsoredPosts()});e.observe(document.body,{childList:!0,subtree:!0}),removeYoutubeAds(),location.hostname.includes("facebook.com")&&(hideFBSponsoredPosts(),document.querySelectorAll('a[aria-label="Advertiser"],a[aria-label="Nh\xe0 quảng c\xe1o"]').forEach(e=>e.remove()))}}startBlock(),window.addEventListener("load",()=>{let e=document.createElement("style");e.type="text/css",e.textContent=`
    @font-face {
        font-family: 'Font Awesome 6 Pro';
        font-style: normal;
        font-weight: 300;
        font-display: block;
        src: url("${chrome.runtime.getURL("assets/webfonts/fa-light-300.woff2")}") format("woff2"), url("${chrome.runtime.getURL("assets/webfonts/fa-light-300.woff")}") format("woff"), url("${chrome.runtime.getURL("assets/webfonts/fa-light-300.ttf")}") format("truetype");
    }
    @font-face {
        font-family: 'Font Awesome 6 Pro';
        font-style: normal;
        font-weight: 400;
        font-display: block;
        src: url("${chrome.runtime.getURL("assets/webfonts/fa-regular-400.woff2")}") format("woff2"), url("${chrome.runtime.getURL("assets/webfonts/fa-regular-400.woff")}") format("woff"), url("${chrome.runtime.getURL("assets/webfonts/fa-regular-400.ttf")}") format("truetype");
    }
    @font-face {
        font-family: 'Font Awesome 6 Pro';
        font-style: normal;
        font-weight: 900;
        font-display: block;
        src: url("${chrome.runtime.getURL("assets/webfonts/fa-solid-900.woff2")}") format("woff2"), url("${chrome.runtime.getURL("assets/webfonts/fa-solid-900.woff")}") format("woff"), url("${chrome.runtime.getURL("assets/webfonts/fa-solid-900.ttf")}") format("truetype");
    }
    @font-face {
        font-family: 'Font Awesome 6 Pro';
        font-style: normal;
        font-weight: 100;
        font-display: block;
        src: url("${chrome.runtime.getURL("assets/webfonts/fa-thin-100.woff2")}") format("woff2"), url("${chrome.runtime.getURL("assets/webfonts/fa-thin-100.woff")}") format("woff"), url("${chrome.runtime.getURL("assets/webfonts/fa-thin-100.ttf")}") format("truetype");
    }
    @font-face {
        font-family: 'Font Awesome 6 Brands';
        font-style: normal;
        font-weight: 400;
        font-display: block;
        src: url("${chrome.runtime.getURL("assets/webfonts/fa-brands-400.woff2")}") format("woff2"), url("${chrome.runtime.getURL("assets/webfonts/fa-brands-400.woff")}") format("woff"), url("${chrome.runtime.getURL("assets/webfonts/fa-brands-400.ttf")}") format("truetype");
    }
    @font-face {
        font-family: 'Font Awesome 6 Duotone';
        font-style: normal;
        font-weight: 900;
        font-display: block;
        src: url("${chrome.runtime.getURL("assets/webfonts/fa-duotone-900.woff2")}") format("woff2"), url("${chrome.runtime.getURL("assets/webfonts/fa-duotone-900.woff")}") format("woff"), url("${chrome.runtime.getURL("assets/webfonts/fa-duotone-900.ttf")}") format("truetype");
    }
    `,document.head.appendChild(e),sendMessage({name:"loaded-content"})}),document.addEventListener("mousedown",e=>{tempElementForMenuContextHandle=e.target});